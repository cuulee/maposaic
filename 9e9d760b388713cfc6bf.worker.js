!function(t){var r={};function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,r){if(1&r&&(t=n(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)n.d(e,o,function(r){return t[r]}.bind(null,o));return e},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},n.p="/maposaic/",n(n.s=0)}([function(t,r){var n=function(t,r){return{x:t/4%r,y:Math.floor(t/4/r)}},e=function(t,r){return 4*(t.y*r+t.x)},o=function(t,r,n){return 4*((n-t.y-1)*r+t.x)},a=function(t,r,n){return{r:t,g:r,b:n}},u=function(t,r,n,u,f,l,i,c){for(var s=[n];s.length>0;){var y=s.pop();if(y){var d=e(y,i);if(!l.has(d)){l.add(d);var p=o(y,i,c);t[p]=f.r,t[p+1]=f.g,t[p+2]=f.b,t[p+3]=255;var b={S:y.y<i-1?{x:y.x,y:y.y+1}:null,E:y.x<i-1?{x:y.x+1,y:y.y}:null,O:y.x>0?{x:y.x-1,y:y.y}:null,N:y.y>0?{x:y.x,y:y.y-1}:null};Object.values(b).forEach((function(t){var n,o;t&&!l.has(e(t,i))&&(n=a(r[e(t,i)],r[e(t,i)+1],r[e(t,i)+2]),o=u,Math.abs(n.r-o.r)<3&&Math.abs(n.g-o.g)<3&&Math.abs(n.b-o.b)<3)&&s.push(t)}))}}}};onmessage=function(t){for(var r=t.data,e=r.mapboxPixels,o=r.mapozaicData,f=r.W,l=r.H,i=new Set,c=0;c<e.length;c+=4)if(!i.has(c)){var s=a(e[c],e[c+1],e[c+2]),y=e[c]<50?a(Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random())):a(255,255,255),d=n(c,f);u(o,e,d,s,y,i,f,l)}console.log("end data",o),postMessage(o)}}]);
//# sourceMappingURL=9e9d760b388713cfc6bf.worker.js.map